---
title: deque
description: 
published: true
date: 2021-11-15T09:26:20.230Z
tags: 数据结构-stl
editor: markdown
dateCreated: 2021-11-11T12:22:26.585Z
---

# deque

容器deque和vector非常相似，属于序列式容器。都是采用动态数组来管理元素，提供随机存取，并且有着和vector一样的接口。不同的是deque具有首尾两端进行快速插入、删除的能力。

## 主要操作复杂度

> 插入： push_back/pop_front：$O(1)$ &emsp;&emsp;insert：$O(n)$
> 删除： pop_back/pop_front：$O(1)$ &emsp; &emsp; erase：$O(n)$
> 查询：$O(1)$
> 修改：$O(1)$

## 内存模型

双端队列的数据被表示为一个分段数组，容器中的元素分段存放在一个个大小固定的数组中，此外容器还需要维护一个存放这些数组首地址的索引数组，如下图所示。

```diagram
PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI1NTFweCIgaGVpZ2h0PSIzODFweCIgdmlld0JveD0iLTAuNSAtMC41IDU1MSAzODEiIGNvbnRlbnQ9IiZsdDtteGZpbGUgaG9zdD0mcXVvdDtlbWJlZC5kaWFncmFtcy5uZXQmcXVvdDsgbW9kaWZpZWQ9JnF1b3Q7MjAyMS0xMS0xNVQwODowMDozNy4wMDdaJnF1b3Q7IGFnZW50PSZxdW90OzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTQuMC40NjA2LjgxIFNhZmFyaS81MzcuMzYmcXVvdDsgZXRhZz0mcXVvdDtTOWhMS3VxV2RnbXpQZHhjLVpXdSZxdW90OyB2ZXJzaW9uPSZxdW90OzE1LjcuMyZxdW90OyB0eXBlPSZxdW90O2VtYmVkJnF1b3Q7Jmd0OyZsdDtkaWFncmFtIGlkPSZxdW90O0xsZXhGblBSMVgxZzJBa2YyaWxvJnF1b3Q7IG5hbWU9JnF1b3Q7UGFnZS0xJnF1b3Q7Jmd0OzFacEJjNk1nRk1jL0RkZE0xR2pNc1NacDk3SXpuZTFodTBjYWFXUldKWU9rU2ZiVEwwU0lvaVRhUmhQYlF3b1BSUGk5Qi94UmdUTlA5azhVYnFLZkpFUXhzTWZoSGpnTFlOdVc1N2o4bjdBY2NzdHNQTTROYTRwRFdha3d2T0IvU0JwVnRTME9VYVpWWklURURHOTA0NHFrS1ZveHpRWXBKVHU5Mmp1SjlidHU0QnJWREM4ckdOZXR2M0hJb3R6cTI5UEMvZ1BoZGFUdWJIbXp2Q1NCcXJJY1NSYkJrT3hLSm1jSm5Ea2xoT1dwWkQ5SHNZQ251T1RYUFo0cFBYV01vcFMxdWNEMjhpcytZTHlWZzVNZFl3YzEybXlIa3hpbVBCZGtERkltL1RIbStYY2N4M01TRThyeklYcUgyNWdkYTFIeUZ4bnNzcUhIMGxYQWRoNlBmN3k4M25rNW5nOUVHZHFYVEhJd1Q0Z2tpTkVEcnlKTFBjbFZCcFlqczd2Q1M2NHJiVkhKUTQ0dmpWQkd4dnJVY2dHUEp5Uy9NeXhib0l6Z1JpVDVHQm1HOFM4ZW5EQmRpOUpnRjJHR1hqWndKY3AzZk41d1c4UVNmck9GeFpOdmhER1NTT3lNYkF3T1NNblJSM1dLSnllM3h1anFHSzA2eHFtSjRxUURpazR6eFJqTFlCUmhwaWFncmZQcWdjSzBIUVdyQXdpVHdVS3c3TnRSY0lkTDRZYXgwR0tGdmhNRis0YXhNRzJtZ0VLK1NjdHNodFlKSCtpeU1BVW9EUi9FM3M5TFZ6SE1NcnpTQVZHeVRVTVV5b1VWN1RGN2xTVWkvVWZZUnp3azgreGlYNnEzT01qTWVjWVoyZElWMHZZSjBkMkwwTXVibG9HcXNsRVVRNFkvZEdsaVFpM3Y4RXd3NzkzSnA1WmZDZTJxdC9LdXk2dktVcUxTMEdtelBlaGJzV3FIUzRjMVlyVjJ1RS9nb1ZSdEl5cGs3ZnM3Y3kvMnFscmQwL1FRVCtUM0wyTHc1SUJXWWVrM2g2WGE4OUZlYUtDUWJOK09KZldRYTFBQVhVemdxbzhNK3VoaXJGMHpnMmRYckdNaHBsd3FZWktLcVUyMnd0NDVHcjhSamRVVEdkWHVVTkU0elZIVEd4cHI0R2ltL3NpOUc1d1dKNDU3d3BuWXM1SGRUTWRTQkR2bjAwSkdEM2wxTm1udDNwWm42eHExZllmMTJRU250NGwyalFhL3d3SjlVell0bFBtd1Z1aWIwbWtoRUFlMlJCdng5TGRHdDVDRlF6N1lEZVVVWitzcmdEMTI5U2ErZW9xenE4LzBlanJHcVE2M1BjZXBmbjEySEYwZC9CVHY3Nm90VE05MGU5TVc5c0JWZkZWYm1PRDB0VU1vRkVObFU5VVdOMlZ6emN1QXUyaUxtOUs1NWkzQmZiU0ZFVTl2MnFMTkM0UlBpb2VVZCtHMW5NbmxnNnV5aFh3NDVwUitPSW1PMFpnZlNzdkN3NW41RjVXSHlEd2ppdm5nRVcxVUk0Ykh6UGwrRGJRRDhVQkZpMVYxZW12UjB0VFFHZEh5bFgzZmNOeFpUa0V3QVE4ODRZSmdEbVl1V0hyaU54Z2Zpd0xnVDJweDl5a0JvTDlRNy9JOWIyVjZHbDVyZVFiL08xMU1Uc1BKaVBQemZlQjdndC9ERWdUZkIrU2s4dUZCanlSNXR2ZytKSS9nNGlzYlova2YmbHQ7L2RpYWdyYW0mZ3Q7Jmx0Oy9teGZpbGUmZ3Q7Ij48ZGVmcy8+PGc+PHBhdGggZD0iTSAwIDAgTCAwIDAgTCA1NTAgMCBMIDU1MCAwIiBmaWxsPSJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpIiBzdHJva2U9InJnYmEoMCwgMCwgMCwgMSkiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxwYXRoIGQ9Ik0gMCAwIEwgMCAzODAgTCA1NTAgMzgwIEwgNTUwIDAiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0icmdiYSgwLCAwLCAwLCAxKSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PHBhdGggZD0iTSAwIDAgTCA1NTAgMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDAsIDAsIDAsIDEpIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48cmVjdCB4PSI1MCIgeT0iMTAiIHdpZHRoPSI3MCIgaGVpZ2h0PSIzNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxwYXRoIGQ9Ik0gNTAgMTAgTSAxMjAgMTAgTCAxMjAgMzUwIE0gNTAgMzUwIEwgNTAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgwLCAwLCAwLCAxKSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PHBhdGggZD0iTSA1MCA3NSBMIDEyMCA3NSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDAsIDAsIDAsIDEpIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxwYXRoIGQ9Ik0gNTAgMTI1IEwgMTIwIDEyNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDAsIDAsIDAsIDEpIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxwYXRoIGQ9Ik0gNTAgMTc1IEwgMTIwIDE3NSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDAsIDAsIDAsIDEpIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxwYXRoIGQ9Ik0gNTAgMjI1IEwgMTIwIDIyNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDAsIDAsIDAsIDEpIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxwYXRoIGQ9Ik0gMTIwIDk1IEwgMTgwIDk1IEwgMTgwIDYwIEwgMjIzLjYzIDYwIiBmaWxsPSJub25lIiBzdHJva2U9InJnYmEoMCwgMCwgMCwgMSkiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9InN0cm9rZSIvPjxwYXRoIGQ9Ik0gMjI4Ljg4IDYwIEwgMjIxLjg4IDYzLjUgTCAyMjMuNjMgNjAgTCAyMjEuODggNTYuNSBaIiBmaWxsPSJyZ2JhKDAsIDAsIDAsIDEpIiBzdHJva2U9InJnYmEoMCwgMCwgMCwgMSkiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxyZWN0IHg9IjIzMCIgeT0iMzAiIHdpZHRoPSIyNTAiIGhlaWdodD0iNTAiIGZpbGw9InJnYmEoMjU1LCAyNTUsIDI1NSwgMSkiIHN0cm9rZT0icmdiYSgwLCAwLCAwLCAxKSIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxyZWN0IHg9IjIzMiIgeT0iMzIiIHdpZHRoPSIyNDYiIGhlaWdodD0iNDYiIGZpbGw9InJnYmEoMjU1LCAyNTUsIDI1NSwgMSkiIHN0cm9rZT0icmdiYSgwLCAwLCAwLCAxKSIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxwYXRoIGQ9Ik0gMjYwIDU1IEwgMzEwIDU1IiBmaWxsPSJub25lIiBzdHJva2U9InJnYmEoMCwgMCwgMCwgMSkiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB0cmFuc2Zvcm09InJvdGF0ZSg5MCwyODUsNTUpIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PHBhdGggZD0iTSAzMTAgNTUgTCAzNjAgNTUiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgwLCAwLCAwLCAxKSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHRyYW5zZm9ybT0icm90YXRlKDkwLDMzNSw1NSkiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48cGF0aCBkPSJNIDM1OC41IDU1IEwgNDA4LjUgNTUiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgwLCAwLCAwLCAxKSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHRyYW5zZm9ybT0icm90YXRlKDkwLDM4My41LDU1KSIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxwYXRoIGQ9Ik0gNDEwIDU1IEwgNDYwIDU1IiBmaWxsPSJub25lIiBzdHJva2U9InJnYmEoMCwgMCwgMCwgMSkiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB0cmFuc2Zvcm09InJvdGF0ZSg5MCw0MzUsNTUpIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PHJlY3QgeD0iMjMwIiB5PSIxMjAiIHdpZHRoPSIyNTAiIGhlaWdodD0iNTAiIGZpbGw9InJnYmEoMjU1LCAyNTUsIDI1NSwgMSkiIHN0cm9rZT0icmdiYSgwLCAwLCAwLCAxKSIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxyZWN0IHg9IjIzMiIgeT0iMTIyIiB3aWR0aD0iMjQ2IiBoZWlnaHQ9IjQ2IiBmaWxsPSJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpIiBzdHJva2U9InJnYmEoMCwgMCwgMCwgMSkiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48cGF0aCBkPSJNIDI2MCAxNDUgTCAzMTAgMTQ1IiBmaWxsPSJub25lIiBzdHJva2U9InJnYmEoMCwgMCwgMCwgMSkiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB0cmFuc2Zvcm09InJvdGF0ZSg5MCwyODUsMTQ1KSIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxwYXRoIGQ9Ik0gMzEwIDE0NSBMIDM2MCAxNDUiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgwLCAwLCAwLCAxKSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHRyYW5zZm9ybT0icm90YXRlKDkwLDMzNSwxNDUpIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PHBhdGggZD0iTSAzNTguNSAxNDUgTCA0MDguNSAxNDUiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgwLCAwLCAwLCAxKSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHRyYW5zZm9ybT0icm90YXRlKDkwLDM4My41LDE0NSkiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48cGF0aCBkPSJNIDQxMCAxNDUgTCA0NjAgMTQ1IiBmaWxsPSJub25lIiBzdHJva2U9InJnYmEoMCwgMCwgMCwgMSkiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB0cmFuc2Zvcm09InJvdGF0ZSg5MCw0MzUsMTQ1KSIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxwYXRoIGQ9Ik0gMTIwIDIwNSBMIDE4MCAyMDUgTCAxODAgMjQwIEwgMjIzLjYzIDI0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDAsIDAsIDAsIDEpIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJzdHJva2UiLz48cGF0aCBkPSJNIDIyOC44OCAyNDAgTCAyMjEuODggMjQzLjUgTCAyMjMuNjMgMjQwIEwgMjIxLjg4IDIzNi41IFoiIGZpbGw9InJnYmEoMCwgMCwgMCwgMSkiIHN0cm9rZT0icmdiYSgwLCAwLCAwLCAxKSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PHJlY3QgeD0iMjMwIiB5PSIyMTAiIHdpZHRoPSIyNTAiIGhlaWdodD0iNTAiIGZpbGw9InJnYmEoMjU1LCAyNTUsIDI1NSwgMSkiIHN0cm9rZT0icmdiYSgwLCAwLCAwLCAxKSIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxyZWN0IHg9IjIzMiIgeT0iMjEyIiB3aWR0aD0iMjQ2IiBoZWlnaHQ9IjQ2IiBmaWxsPSJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpIiBzdHJva2U9InJnYmEoMCwgMCwgMCwgMSkiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48cGF0aCBkPSJNIDI2MCAyMzUgTCAzMTAgMjM1IiBmaWxsPSJub25lIiBzdHJva2U9InJnYmEoMCwgMCwgMCwgMSkiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB0cmFuc2Zvcm09InJvdGF0ZSg5MCwyODUsMjM1KSIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxwYXRoIGQ9Ik0gMzEwIDIzNSBMIDM2MCAyMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgwLCAwLCAwLCAxKSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHRyYW5zZm9ybT0icm90YXRlKDkwLDMzNSwyMzUpIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PHBhdGggZD0iTSAzNTguNSAyMzUgTCA0MDguNSAyMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgwLCAwLCAwLCAxKSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHRyYW5zZm9ybT0icm90YXRlKDkwLDM4My41LDIzNSkiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48cGF0aCBkPSJNIDQxMCAyMzUgTCA0NjAgMjM1IiBmaWxsPSJub25lIiBzdHJva2U9InJnYmEoMCwgMCwgMCwgMSkiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB0cmFuc2Zvcm09InJvdGF0ZSg5MCw0MzUsMjM1KSIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxwYXRoIGQ9Ik0gMTIwLjk4IDE0NS4zMiBMIDIyMy42MyAxNDUuMDIiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgwLCAwLCAwLCAxKSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ic3Ryb2tlIi8+PHBhdGggZD0iTSAyMjguODggMTQ1IEwgMjIxLjg5IDE0OC41MiBMIDIyMy42MyAxNDUuMDIgTCAyMjEuODcgMTQxLjUyIFoiIGZpbGw9InJnYmEoMCwgMCwgMCwgMSkiIHN0cm9rZT0icmdiYSgwLCAwLCAwLCAxKSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PHJlY3QgeD0iNTUiIHk9IjI3MCIgd2lkdGg9IjYwIiBoZWlnaHQ9IjMwIiBmaWxsPSJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpIiBzdHJva2U9Im5vbmUiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiIHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogNThweDsgaGVpZ2h0OiAxcHg7IHBhZGRpbmctdG9wOiAyODVweDsgbWFyZ2luLWxlZnQ6IDU2cHg7Ij48ZGl2IGRhdGEtZHJhd2lvLWNvbG9ycz0iY29sb3I6IHJnYmEoMCwgMCwgMCwgMSk7ICIgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyI+57Si5byV5pWw57uEPC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9Ijg1IiB5PSIyODkiIGZpbGw9InJnYmEoMCwgMCwgMCwgMSkiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiIGZvbnQtc2l6ZT0iMTJweCIgdGV4dC1hbmNob3I9Im1pZGRsZSI+57Si5byV5pWw57uEPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSI0NjAiIHk9IjI3MCIgd2lkdGg9IjYwIiBoZWlnaHQ9IjMwIiBmaWxsPSJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpIiBzdHJva2U9Im5vbmUiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiIHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogNThweDsgaGVpZ2h0OiAxcHg7IHBhZGRpbmctdG9wOiAyODVweDsgbWFyZ2luLWxlZnQ6IDQ2MXB4OyI+PGRpdiBkYXRhLWRyYXdpby1jb2xvcnM9ImNvbG9yOiByZ2JhKDAsIDAsIDAsIDEpOyAiIHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDBweDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IHdoaXRlLXNwYWNlOiBub3JtYWw7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsiPuWIhuauteaVsOe7hDwvZGl2PjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI0OTAiIHk9IjI4OSIgZmlsbD0icmdiYSgwLCAwLCAwLCAxKSIgZm9udC1mYW1pbHk9IkhlbHZldGljYSIgZm9udC1zaXplPSIxMnB4IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj7liIbmrrXmlbDnu4Q8L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48c3dpdGNoPjxnIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSIvPjxhIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTUpIiB4bGluazpocmVmPSJodHRwczovL3d3dy5kaWFncmFtcy5uZXQvZG9jL2ZhcS9zdmctZXhwb3J0LXRleHQtcHJvYmxlbXMiIHRhcmdldD0iX2JsYW5rIj48dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEwcHgiIHg9IjUwJSIgeT0iMTAwJSI+Vmlld2VyIGRvZXMgbm90IHN1cHBvcnQgZnVsbCBTVkcgMS4xPC90ZXh0PjwvYT48L3N3aXRjaD48L3N2Zz4=
```


由于分段数组的大小是固定的，并且它们的首地址被连续存放在索引数组中，因此可以对其进行随机访问，但效率比vector低很多。

向两端加入新元素时，如果这一端的分段数组未满，则可以直接加入，如果这一端的分段数组已满，只需创建新的分段数组，并把该分段数组的地址加入到索引数组中即可。无论哪种情况都不需要对已有元素进行移动，因此在双端队列的两端加入新的元素都具有较高的效率。

当删除双端队列容器两端的元素时，由于不需要发生元素的移动，效率也是非常高的。

双端队列中间插入元素时，需要将插入点到某一端之间的所有元素向容器的这一端移动，因此向中间插入元素的效率较低，而且往往插入位置越靠近中间，效率越低。删除队列中元素时，情况也类似，由于被删除元素到某一端之间的所有元素都要向中间移动，删除的位置越靠近中间，效率越低。


## 主要用法

```cpp
#include <iostream>
#include <deque>

using namespace std;

int numbers[10] = { 0,1,2,3,4,5,6,7,8,9 };

int main()
{
	/*
	 * deque的创建
	 */
	deque<int> myDeque1;  //创建一个空的deque
	deque<int> myDeque2(myDeque1);  //创建myDeque1的一个复制
	deque<int> myDeque3(10);  //创建一个包含10个元素的deque，值均为0
	deque<int> myDeque4(10, 5);  //创建一个包含10个元素的deque，值均为5

	/*
	 * 往deque中加入数据
	 */
	myDeque1.push_back(2);  //往队列末尾加入数据2
	myDeque1.push_front(1);  //往队列头部加入数据1
	myDeque1.insert(myDeque1.begin(), 0);    //往队列某位置（迭代器，这里是队列头部）插入数据0
	myDeque1.insert(myDeque1.begin(), 3, 4);  //往队列某位置（迭代器，这里是队列头部）插入3个4
	myDeque1.insert(myDeque1.begin(), numbers + 3, numbers + 10);  //往队列某位置（迭代器，这里是队列头部）插入numbers[3]到numbers[9]的数据

	/*
	 * 在deque中删除数据
	 */
	myDeque1.pop_back();  //删除末尾的数据
	myDeque1.pop_front();  //删除头部的数据
	myDeque1.erase(myDeque1.begin());    //删除某位置（迭代器，这里是队列头部）的数据
	myDeque1.erase(myDeque1.begin(), myDeque1.end());  //删除某位置（迭代器，这里是队列头部）到某位置（迭代器，这里是队列末尾）的数据

	/*
	 * 访问deque的数据
	 */
	myDeque1[1];	//以下标形式访问数据
	myDeque1.at(1);    //访问下标为1的数据（下标从0开始）
	myDeque1.front();    //访问头部的数据
	myDeque1.back();    //访问末尾的数据
	myDeque1.begin();    //得到指向头部的迭代器
	myDeque1.end();      //得到指向末尾的下一个数据的迭代器
	myDeque1.rbegin();    //得到指向末尾的逆向迭代器
	myDeque1.rend();    //得到指向头部的前一个数据的逆向迭代器

	/*
	 * 其它操作
	 */
	myDeque1.clear();  //清空deque
	myDeque1.empty();  //判断deque是否为空，为空返回true
	myDeque1.resize(10);    //deque的长度设置为10，如果队列原有元素超过10个，则保留前10个
	myDeque1.size();  //返回deque实际数据个数

	return 0;
}
```

## 注意点

> 注意越界及空队列的情况。
> 例如：在空队列的时候调用`myDeque.front()`或者`myDeque.back()`；`myDeque.at(pos)` $pos$大于队列最大下标。
> 使用下标形式或者`at()`访问元素时，注意访问位置是否超过了队列最大下标。
{.is-danger}


